<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="./css/signup.css">
<title>코인트랙커 회원가입</title>
</head>
<body>
	<form action="cointracker" style="border: 1px solid #ccc">
		<input type="hidden" name="command" value="signup">
		<div class="container">
			<h1>Sign Up</h1>
			<p>Please fill in this form to create an account.</p>
			<hr>

			<label for="id"><b>Id</b></label> <input type="text"
				placeholder="Enter Id" name="id" required> <label for="name"><b>Name</b></label>
			<input type="text" placeholder="Enter Name" name="name" required>

			<label for="psw"><b>Password</b></label> <input id="psw"
				type="password" placeholder="Enter Password" name="psw" required>

			<label for="psw-repeat"><b>Repeat Password</b></label> <input
				id="psw-repeat" type="password" placeholder="Repeat Password"
				name="psw-repeat" required> <label id="resultMsg"></label> <br>
			<label> <input type="checkbox" checked="checked"
				name="remember" style="margin-bottom: 15px"> Remember me
			</label>
			<p>
				By creating an account you agree to our <a href="#"
					style="color: dodgerblue">Terms & Privacy</a>.
			</p>

			<div class="clearfix">
				<button type="button" class="cancelbtn" onclick="history.back()">취소</button>
				<button type="submit" disabled='disabled' id="signupbtn">가입</button>
			</div>
		</div>
	</form>

	<script>
		let psw = document.getElementById("psw");
		let pswRepeat = document.getElementById("psw-repeat");
		let resultMsg = document.getElementById("resultMsg");
		let signupbtn = document.getElementById("signupbtn");

		psw.addEventListener('blur', function() {
			if (pswRepeat.value != psw.value) {
				resultMsg.innerText = '입력하신 비밀번호와 다릅니다.';
				resultMsg.style.cssText = 'color:red'
				signupbtn.disabled = true;
			} else {
				resultMsg.innerText = '사용가능한 비밀번호입니다.';
				resultMsg.style.cssText = 'color:green'
				signupbtn.disabled = false;

			}
		});
		pswRepeat.addEventListener('blur', function() {
			if (pswRepeat.value != psw.value) {
				resultMsg.innerText = '입력하신 비밀번호와 다릅니다.';
				resultMsg.style.cssText = 'color:red'
				signupbtn.disabled = true;
			} else {
				resultMsg.innerText = '사용가능한 비밀번호입니다.';
				resultMsg.style.cssText = 'color:green'
				signupbtn.disabled = false;
			}
		});
	</script>
</body>
</html>